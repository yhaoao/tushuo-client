<ion-view title="{{post.desp}}">
    <ion-nav-buttons side="right">
        <button class="button button-clear icon ion-edit" 
        ng-click="openCommentModel()">
    </button>
    </ion-nav-buttons>
    <ion-content class="has-header padding">

        <div class="item item-body">
            <p>
                {{post.desp}}
            </p>
            <img class="full-image" ng-src="{{post.img}}">
        </div>

        <div class="list card" ng-repeat="comment in comments">

            <div ng-click="userInfo(comment.userId)" 
            class="item item-avatar">
                <img ng-src="{{post.authAvatar|avatar:'male'}}">
                <h2>{{comment.userName}}</h2>
                <p>{{comment.createAt|timeAgo}}</p>
            </div>

            <div class="item item-body">
                <p>
                    {{comment.content}}
                </p>
                
            </div>
        </div>
    </ion-content>
</ion-view>
<script id="comment-modal.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar class="bar-dark">
            <button class="button button-clear" ng-click="addComment()">
                评论
            </button>
            <h1 class="title">{{post.desp}}</h1>
            <button class="button button-clear icon ion-close" ng-click="closeCommentModel()">
            </button>
        </ion-header-bar>
        <ion-content class="padding">
            <textarea placeholder="请创建描述" class="topcoat-textarea" 
            ng-model="commentForm.content">
            </textarea>
            <div class="list card" ng-show="commentForm.img">
                <div class="item item-image">
                    <img ng-src="{{post.img}}">
                </div>
            </div>
            <button class="button button-block button-stable" ng-show="!commentForm.img" ng-click="addImg()">
            添加图片</button>
        </ion-content>
    </ion-modal-view>
</script>